(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,n){e.exports=n(334)},150:function(e,t,n){},156:function(e,t,n){},265:function(e,t,n){},322:function(e,t,n){},334:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(26),o=n.n(c),i=(n(150),n(15)),l=n(16),u=n(18),s=n(17),m=n(19),p=n(27),d=n(339),h=n(143),f=n.n(h),b=(n(156),n(127)),y=n.n(b),g=n(128),E=n.n(g),v=n(41),O=n.n(v),j=n(20),C=n.n(j),w=n(24),k=n(129),N=n.n(k),S=n(336),P=n(61),T=function(e){return{root:{width:"100%"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20,color:"inherit"},title:Object(P.a)({display:"none"},e.breakpoints.up("sm"),{display:"block",color:"inherit"})}},A=n(126),D=n.n(A),I=n(125),B=n.n(I),R=9,_=3,x={designation:"UAH",rate:1},M=[{value:"UAH",label:"\u20b4"},{value:"USD",label:"$"},{value:"EUR",label:"\u20ac"}],U=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.changeCurrency(e.target.value)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(B.a,{classes:e,value:this.props.currency,onChange:this.handleChange},M.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value,style:{color:"black",backgroundColor:"inherit"}},e.label)}))}}]),t}(r.a.Component),W=Object(w.withStyles)(function(e){return{root:{color:"inherit"},select:{padding:0,minWidth:"2em"},icon:{color:"inherit"}}})(U),H=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement("span",{className:e.totalSum},"Total sum: ",this.props.cartProductsTotalCount),r.a.createElement(W,{currency:this.props.currency,changeCurrency:this.props.changeCurrency}),r.a.createElement(S.a,{to:"/cart",className:"cartLink"},r.a.createElement(O.a,null,r.a.createElement(D.a,{badgeContent:this.props.cartProductsCount,color:"secondary"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))))))}}]),t}(r.a.Component),L=Object(w.withStyles)(function(e){return{totalSum:{marginRight:"0.5em"}}})(H),z=n(69),F=function(e){return e.cart},V=Object(z.a)([function(e){return e.products}],function(e){if(!e.id)return null;if(e.product&&e.product.id===e.id)return e.product;if(e.products){var t=e.products.filter(function(t){return t.id===e.id});if(1===t.length)return t[0]}return null}),Q=Object(z.a)([F],function(e){return e.reduce(function(e,t){return e+Number(t.count)},0)}),J=Object(z.a)([F,function(e){return e.currency.rate}],function(e,t){return Math.round(100*e.reduce(function(e,n){return e+n.count*n.cost/t},0))/100}),Y="CHANGE_CURRENCY",G=Object(p.b)(function(e){return{cartProductsCount:Q(e),cartProductsTotalCount:J(e),currency:e.currency.designation}},function(e){return{changeCurrency:function(t){return e(function(e){return{type:Y,payload:e}}(t))}}})(L);var X=Object(w.withStyles)(T)(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(y.a,{position:"static"},r.a.createElement(E.a,null,r.a.createElement(O.a,{className:t.menuButton,"aria-label":"Open drawer"},r.a.createElement(S.a,{to:"/",className:"header-link"},r.a.createElement(N.a,null))),r.a.createElement(C.a,{className:t.title,variant:"h6",noWrap:!0},"\u201cTest Shop\u201d Project"),r.a.createElement("div",{className:t.grow}),r.a.createElement(G,null))))}),$="ADD_PRODUCTS",q="SAVE_START",K="SAVE_END",Z="SAVE_ERROR",ee="SAVE_ID",te="ADD_PRODUCT_ITEM",ne=function(e){return{type:te,payload:e}},ae=function(e){var t=e.productsArray;return{type:$,payload:{productsArray:t}}},re=function(e){return{type:q,payload:e}},ce=function(e){return{type:K,payload:Number(e)}},oe=function(e){return{type:Z,payload:e}},ie=n(144),le=n(5),ue=n.n(le),se=n(130),me=n.n(se),pe=n(132),de=n.n(pe),he=n(133),fe=n.n(he),be=n(136),ye=n.n(be),ge=n(134),Ee=n.n(ge),ve=n(135),Oe=n.n(ve),je=n(137),Ce=n.n(je),we=n(84),ke=n.n(we),Ne=n(131),Se=n.n(Ne),Pe={success:me.a,warning:Se.a,error:de.a,info:fe.a};var Te=Object(w.withStyles)(function(e){return{success:{backgroundColor:Ee.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:Oe.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,n=e.className,a=e.message,c=e.onClose,o=e.variant,i=Object(ie.a)(e,["classes","className","message","onClose","variant"]),l=Pe[o];return r.a.createElement(ke.a,Object.assign({className:ue()(t[o],n),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(l,{className:ue()(t.icon,t.iconVariant)}),a),action:[r.a.createElement(O.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:c},r.a.createElement(ye.a,{className:t.icon}))]},i))}),Ae=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(e,t){"clickaway"!==t&&n.props.onClose()},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"snackBar"},r.a.createElement(Ce.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:Boolean(this.props.message),autoHideDuration:3e3,onClose:this.handleClose},r.a.createElement(Te,{onClose:this.handleClose,variant:this.props.variant,message:this.props.message})))}}]),t}(r.a.Component),De=Object(w.withStyles)(function(e){return{margin:{margin:e.spacing.unit}}})(Ae),Ie=n(337),Be=n(29),Re=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).warningOnClose=function(){n.props.saveError(null)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.error;return r.a.createElement("div",null,r.a.createElement(X,null),r.a.createElement(De,{message:e,onClose:this.warningOnClose,variant:"error"}),this.props.children)}}]),t}(a.Component),_e=Object(Be.d)(Ie.a,Object(p.b)(function(e){return{error:e.products.error}},function(e){return{saveError:function(t){return e(oe(t))}}}))(Re),xe=n(340),Me=n(338),Ue="ADD_PRODUCT",We="DELETE_PRODUCT",He="EDIT_PRODUCT",Le=function(e){return{type:Ue,payload:e}},ze=(n(265),n(64)),Fe=n.n(ze),Ve=n(65),Qe=n.n(Ve),Je=n(67),Ye=n.n(Je),Ge=n(66),Xe=n.n(Ge),$e=n(42),qe=n.n($e),Ke=n(25),Ze=n.n(Ke),et=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).buy=function(){n.props.addProductToCart(n.props.item)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.item,a=e.currency,c=n.id,o=n.name,i=n.url,l=Math.round(n.cost/a.rate*100)/100,u="/product/".concat(c);return r.a.createElement(Fe.a,{className:t.card},r.a.createElement(S.a,{to:u},r.a.createElement(Qe.a,null,r.a.createElement(qe.a,{className:t.media,image:i,title:"Yaht"}),r.a.createElement(Xe.a,null,r.a.createElement(C.a,{className:t.title,variant:"h5",component:"h2"},o),r.a.createElement(C.a,{component:"p"},"Current Price: ",l.toLocaleString()," ",a.designation)))),r.a.createElement(Ye.a,null,r.a.createElement(Ze.a,{size:"large",color:"primary"},r.a.createElement(S.a,{to:u},"Detailes")),r.a.createElement(Ze.a,{className:"buyBtn",onClick:this.buy,size:"large",color:"primary"},"Buy")))}}]),t}(a.Component),tt=Object(w.withStyles)(function(e){return{card:{minWidth:200,maxWidth:250,margin:e.spacing.unit},title:{height:80},media:{height:200}}})(et),nt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={limit:_},n.showMore=function(){n.props.fetchProducts(n.props.start,n.state.limit)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){0===this.props.items.length&&this.showMore()}},{key:"render",value:function(){var e=this,t=this.props.items,n=t.length===this.props.end;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"products"},t.map(function(t){return r.a.createElement(tt,{key:t.id,item:t,currency:e.props.currency,addProductToCart:e.props.addProductToCart})})),r.a.createElement("div",null,r.a.createElement(Ze.a,{className:"showMoreBtn",variant:"contained",color:"primary",disabled:n,fullWidth:!0,onClick:this.showMore},"Show more ...")))}}]),t}(a.Component),at=Object(p.b)(function(e){return{items:e.products.products,start:e.products.start,end:e.products.end,error:e.products.error,currency:e.currency}},function(e){return{fetchProducts:function(t,n){return e(function(e,t){return function(n){return fetch("http://localhost:3005/api/products?_start=".concat(e,"&_limit=").concat(t)).then(function(e){return n(ce(e.headers.get("X-Total-Count"))),e.json()}).then(function(a){a.length===t&&n(re(e+t)),n(ae({productsArray:a})),n(oe(null))}).catch(function(e){n(oe(e.message))})}}(t,n))},addProductToCart:function(t){return e(Le(t))}}})(nt),rt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement(at,null))}}]),t}(a.Component),ct=n(140),ot=n.n(ct),it=n(32),lt=n.n(it),ut=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).delete=function(){n.props.delProductFromCart(n.props.item.id)},n.handleChange=function(e){var t=Number(e.target.value);t>0&&t<=R&&n.props.editQantityInCart(n.props.item.id,t)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.item,a=e.currency,c=n.id,o=n.count,i=n.name,l=n.url,u=Math.round(n.cost/a.rate*100)/100,s="/product/".concat(c);return r.a.createElement(Fe.a,{className:t.card},r.a.createElement(S.a,{to:s},r.a.createElement(Qe.a,null,r.a.createElement("i",null,"Id=",c),r.a.createElement(qe.a,{className:t.media,image:l,title:"Yaht"}),r.a.createElement(Xe.a,{className:t.title},r.a.createElement(C.a,{variant:"h5",component:"h2"},i)))),r.a.createElement(Ye.a,null,r.a.createElement(lt.a,{xs:5},r.a.createElement(C.a,{component:"p",align:"center"},"Price:",r.a.createElement("br",null),u.toLocaleString())),r.a.createElement(lt.a,{xs:2},r.a.createElement(ot.a,{label:"Quantity:",value:o,onChange:this.handleChange,type:"number",inputProps:{classes:{root:{border:"2px solid yellow"}}}})),r.a.createElement(lt.a,{xs:5},r.a.createElement(C.a,{component:"p",color:"primary",align:"center"},"Sum:",r.a.createElement("br",null),r.a.createElement("b",null,(u*o).toLocaleString())))),r.a.createElement(Ze.a,{variant:"outlined",color:"secondary",fullWidth:!0,onClick:this.delete,size:"small",className:t.button},"Delete from cart"))}}]),t}(a.Component),st=Object(w.withStyles)(function(e){return{card:{minWidth:200,maxWidth:250,margin:e.spacing.unit},title:{height:90},media:{height:200}}})(ut),mt=(n(322),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null," Cart "),r.a.createElement("ul",{className:"cart-list"},this.props.cartItems.map(function(t){return r.a.createElement(st,{key:t.id,item:t,currency:e.props.currency,delProductFromCart:e.props.delProductFromCart,editQantityInCart:e.props.editQantityInCart})})),r.a.createElement("h3",{className:"cart-totalSum"},"Total sum: ",this.props.cartProductsTotalCount," ",this.props.currency.designation))}}]),t}(a.Component)),pt=Object(p.b)(function(e){return{cartItems:e.cart,cartProductsTotalCount:J(e),currency:e.currency}},function(e){return{delProductFromCart:function(t){return e(function(e){return{type:We,payload:e}}(t))},editQantityInCart:function(t,n){return e(function(e,t){return{type:He,payload:{id:e,count:t}}}(t,n))}}})(mt),dt=function(e){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(C.a,{variant:"h5",component:"h2",align:"center",color:"error",paragraph:!0},"Sorry. Product with ",r.a.createElement("i",null,"id=",e.id)," not found"),r.a.createElement(S.a,{to:"/"},r.a.createElement(Ze.a,{variant:"outlined",fullWidth:!0,color:"primary"},"Return to the main page")))},ht=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).goBack=function(){n.props.history.goBack()},n.buy=function(){n.props.addProductToCart(n.props.item)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=Number(this.props.match.params.productId);this.props.saveId(e),this.props.item&&this.props.item.id&&this.props.item.id===e||this.props.items&&this.props.items.filter(function(t){return t.id===e}).length>0||this.props.getProductById(e)}},{key:"render",value:function(){var e=Number(this.props.match.params.productId);if(!this.props.item||this.props.item.id&&this.props.item.id!==e)return r.a.createElement(dt,{id:e});var t=this.props.item,n=t.name,a=t.url,c=t.year,o=t.length,i=t.location,l=t.material,u=t.description,s=Math.round(this.props.item.cost/this.props.currency.rate*100)/100,m=this.props.classes;return r.a.createElement("div",{className:m.root},r.a.createElement(C.a,{variant:"h2",component:"h2",gutterBottom:!0},n),r.a.createElement(lt.a,{container:!0,spacing:24},r.a.createElement(lt.a,{item:!0,xs:12,md:4},r.a.createElement(C.a,{variant:"body1",gutterBottom:!0},r.a.createElement("b",null,"Year: ")," ",c),r.a.createElement(C.a,{variant:"body1",gutterBottom:!0},r.a.createElement("b",null,"Length: ")," ",o),r.a.createElement(C.a,{variant:"body1",gutterBottom:!0},r.a.createElement("b",null,"Located In: ")," ",i),r.a.createElement(C.a,{variant:"body1",gutterBottom:!0},r.a.createElement("b",null,"Hull Material: ")," ",l),r.a.createElement(C.a,{variant:"body1",gutterBottom:!0},r.a.createElement("b",null,"Current Price: ")," ",s.toLocaleString()," ",this.props.currency.designation),r.a.createElement(C.a,{component:"p"},u),r.a.createElement(Ze.a,{onClick:this.goBack,variant:"outlined",className:m.button},"Return"),r.a.createElement(Ze.a,{onClick:this.buy,variant:"outlined",color:"primary",className:m.button},"Buy")),r.a.createElement(lt.a,{item:!0,xs:12,md:8},r.a.createElement(qe.a,{className:m.media,image:a,title:"Sail yacht"}))))}}]),t}(a.Component),ft=Object(w.withStyles)(function(e){return{root:{flexGrow:1,padding:2*e.spacing.unit},paper:{padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.secondary},media:{height:0,paddingTop:"56.25%"},button:{margin:e.spacing.unit,width:150}}})(ht),bt=Object(p.b)(function(e){return{item:V(e),items:e.products.products,currency:e.currency}},function(e){return{saveId:function(t){return e(function(e){return{type:ee,payload:e}}(t))},getProductById:function(t){return e(function(e){return function(t){return fetch("http://localhost:3005/api/products?id=".concat(e)).then(function(e){return e.json()}).then(function(e){t(ne(e[0])),t(oe(null))}).catch(function(e){t(oe(e.message))})}}(t))},addProductToCart:function(t){return e(Le(t))}}})(ft),yt=function(e){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(C.a,{variant:"h5",component:"h2",align:"center",color:"error",paragraph:!0},"Page ",r.a.createElement("i",null,'"',e.history.location.pathname,'"')," not found"),r.a.createElement(S.a,{to:"/"},r.a.createElement(Ze.a,{variant:"outlined",fullWidth:!0,color:"primary"},"Return to the main page")))},gt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(xe.a,null,r.a.createElement(Me.a,{path:"/",component:rt,exact:!0}),r.a.createElement(Me.a,{path:"/cart",component:pt}),r.a.createElement(Me.a,{path:"/product/:productId",component:bt,exact:!0}),r.a.createElement(Me.a,{component:yt}))}}]),t}(a.Component),Et=n(141),vt=n.n(Et),Ot=n(142),jt=n(86),Ct=n(31),wt={products:[],start:0,id:null,error:null};var kt=[];var Nt=new Map([["UAH",1],["USD",30],["EUR",40]]);var St,Pt=Object(Be.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case $:return Object(Ct.a)({},e,{products:[].concat(Object(jt.a)(e.products),Object(jt.a)(a.productsArray))});case q:return Object(Ct.a)({},e,{start:a});case K:return Object(Ct.a)({},e,{end:a});case Z:return Object(Ct.a)({},e,{error:a});case ee:return Object(Ct.a)({},e,{id:a});case te:return Object(Ct.a)({},e,{product:a});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case We:return e.filter(function(e){return e.id!==a});case Ue:var r=!1,c=e.map(function(e){return e.id===a.id&&(e.count<R&&(e.count+=1),r=!0),e});return r||c.push(Object(Ct.a)({},a,{count:1})),c;case He:return e.map(function(e){return e.id===a.id&&(e.count=Number(a.count)),e});default:return e}},currency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Y:return{designation:a,rate:Nt.get(a)};default:return e}}}),Tt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Be.d,At=(St=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),Object(Be.e)(Pt,St,Tt(Object(Be.a)(Ot.a))));At.subscribe(vt()(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){console.log(n)}}(At.getState())},1e3));var Dt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{store:At},r.a.createElement(d.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null),r.a.createElement(_e,null,r.a.createElement(gt,null)))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Dt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[145,2,1]]]);
//# sourceMappingURL=main.75de4142.chunk.js.map